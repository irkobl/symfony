{% extends 'base.html.twig' %}

{% block title %}Редактировать{% endblock %}

{% block body %}
    <h3 class="d-flex justify-content-center">Редактировать</h3>

    {{ form_start(formedit) }}       

    <div class="form-group mt-3">            
        {{ form_row(formedit.title, {'label': 'Заголовок', 'label_attr': {'class': 'form-label'}, 'attr': {'class': 'form-control'}}) }}
    </div>
    <div class="form-group mt-3 mb-3">
        {{ form_row(formedit.text, {'label': 'Основной текст', 'label_attr': {'class': 'form-label'}, 'attr': {'class': 'form-control', 'rows' : '6'}}) }}
    </div>
    <div class="mt-3">        
        <blockquote class="blockquote-footer" style="margin-top: 0;">
            <small class="text-muted">
                Файлы:&nbsp; 
            </small>
            {% if (application.file1 != null) %}
            <img src="/download/{{ application.file1 ? application.file1 : '' }}" class="img-thumbnail" alt="..." style="width: 100px; height: 100px">
            <a href="/download/{{ application.file1 ? application.file1 : '' }}" class="card-link" download>
                <small>{{ application.file1 ? application.file1 : '' }}</small>
            </a>&nbsp;
            {% endif %}
            
            {% if (application.file2 != null) %}
            <img src="/download/{{ application.file1 ? application.file2 : '' }}" class="img-thumbnail" alt="..." style="width: 100px; height: 100px">
            <a href="/download/{{ application.file2 ? application.file2 : '' }}" class="card-link" download>
                <small>{{ application.file2 ? application.file2 : '' }}</small>
            </a>&nbsp;
            {% endif %}
            
            {% if (application.file2 != null) %}
            <img src="/download/{{ application.file1 ? application.file3 : '' }}" class="img-thumbnail" alt="..." style="width: 100px; height: 100px">
            <a href="/download/{{ application.file3 ? application.file3 : '' }}" class="card-link" download>
                <small>{{ application.file3 ? application.file3 : '' }}</small>
            </a>
            {% endif %}
        </blockquote> 
    </div>
        
    {% if (application.file1 == '' and application.file2 == '' and application.file3 == '' ) %}    
    <div class="alert alert-primary" role="alert">
        <td colspan="10">Файлы отсутствуют</td>
    </div>
    {% endif %}   


    <div class="form-group mt-3">
        {{ form_row(formedit.status, {'label': 'Изменить статус', 'label_attr': {'class': 'form-label'}, 'attr': {'class': 'form-control', 'type' : 'file'}}) }}
    </div>
    <div class="form-group mt-3">
        {{ form_row(formedit.file_1, {'label': 'Загрузить 3 файла', 'label_attr': {'class': 'form-label'}, 'attr': {'class': 'form-control', 'type' : 'file'}}) }}
    </div>


    <div class="d-flex justify-content-end">
        <button class="btn {{ button_color|default('btn-outline-primary') }}  mt-3" >{{ button_label|default('Сохранить') }}</button>
    </div>
    
    
{{ form_end(formedit) }}

    {{ include('applications/_delete_form.html.twig') }}
    
    <a href="{{ path('app_applications_index') }}">Вернуться к списку</a>

    
{% endblock %}
